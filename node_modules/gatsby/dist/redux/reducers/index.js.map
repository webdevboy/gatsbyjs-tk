{"version":3,"sources":["../../../src/redux/reducers/index.js"],"names":["reduxNodes","require","lokiNodes","reducer","backend","getNodesReducer","nodesReducer","Error","getNodesByTypeReducer","state","module","exports","program","nodes","nodesByType","resolvedNodesCache","nodesTouched","lastAction","flattenedPlugins","config","pages","schema","status","statusReducer","componentDataDependencies","components","staticQueryComponents","staticQueryComponentsReducer","jobs","jobsV2","webpack","webpackReducer","webpackCompilationHash","webpackCompilationHashReducer","redirects","redirectsReducer","babelrc","schemaCustomization","themes","themesReducer","logs","logReducer","inferenceMetadata","pageDataStats","pageData"],"mappings":";;AAEA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AARA,MAAMA,UAAU,GAAGC,OAAO,CAAE,SAAF,CAA1B;;AACA,MAAMC,SAAS,GAAGD,OAAO,CAAE,qBAAF,CAAP,CAA+BE,OAAjD;;AASA;AACA,MAAMC,OAAO,GAAI,OAAjB;;AAEA,SAASC,eAAT,GAA2B;AACzB,MAAIC,YAAJ;;AACA,UAAQF,OAAR;AACE,SAAM,OAAN;AACEE,MAAAA,YAAY,GAAGN,UAAf;AACA;;AACF,SAAM,MAAN;AACEM,MAAAA,YAAY,GAAGJ,SAAf;AACA;;AACF;AACE,YAAM,IAAIK,KAAJ,CACH,iEADG,CAAN;AARJ;;AAYA,SAAOD,YAAP;AACD;;AAED,SAASE,qBAAT,GAAiC;AAC/B,MAAIF,YAAJ;;AACA,UAAQF,OAAR;AACE,SAAM,OAAN;AACEE,MAAAA,YAAY,GAAGL,OAAO,CAAE,iBAAF,CAAtB;AACA;;AACF,SAAM,MAAN;AACEK,MAAAA,YAAY,GAAG,CAACG,KAAK,GAAG,IAAT,KAAkB,IAAjC;;AACA;;AACF;AACE,YAAM,IAAIF,KAAJ,CACH,iEADG,CAAN;AARJ;;AAYA,SAAOD,YAAP;AACD;AAED;;;;;AAGAI,MAAM,CAACC,OAAP,GAAiB;AACfC,EAAAA,OAAO,EAAEX,OAAO,CAAE,WAAF,CADD;AAEfY,EAAAA,KAAK,EAAER,eAAe,EAFP;AAGfS,EAAAA,WAAW,EAAEN,qBAAqB,EAHnB;AAIfO,EAAAA,kBAAkB,EAAEd,OAAO,CAAE,kBAAF,CAJZ;AAKfe,EAAAA,YAAY,EAAEf,OAAO,CAAE,iBAAF,CALN;AAMfgB,EAAAA,UAAU,EAAEhB,OAAO,CAAE,eAAF,CANJ;AAOfiB,EAAAA,gBAAgB,EAAEjB,OAAO,CAAE,qBAAF,CAPV;AAQfkB,EAAAA,MAAM,EAAElB,OAAO,CAAE,UAAF,CARA;AASfmB,EAAAA,KAAK,EAAEnB,OAAO,CAAE,SAAF,CATC;AAUfoB,EAAAA,MAAM,EAAEpB,OAAO,CAAE,UAAF,CAVA;AAWfqB,EAAAA,MAAM,EAAEC,qBAXO;AAYfC,EAAAA,yBAAyB,EAAEvB,OAAO,CAAE,+BAAF,CAZnB;AAafwB,EAAAA,UAAU,EAAExB,OAAO,CAAE,cAAF,CAbJ;AAcfyB,EAAAA,qBAAqB,EAAEC,mDAdR;AAefC,EAAAA,IAAI,EAAE3B,OAAO,CAAE,QAAF,CAfE;AAgBf4B,EAAAA,MAAM,EAAE5B,OAAO,CAAE,UAAF,CAhBA;AAiBf6B,EAAAA,OAAO,EAAEC,uBAjBM;AAkBfC,EAAAA,sBAAsB,EAAEC,qDAlBT;AAmBfC,EAAAA,SAAS,EAAEC,2BAnBI;AAoBfC,EAAAA,OAAO,EAAEnC,OAAO,CAAE,WAAF,CApBD;AAqBfoC,EAAAA,mBAAmB,EAAEpC,OAAO,CAAE,wBAAF,CArBb;AAsBfqC,EAAAA,MAAM,EAAEC,qBAtBO;AAuBfC,EAAAA,IAAI,EAAEC,gBAvBS;AAwBfC,EAAAA,iBAAiB,EAAEzC,OAAO,CAAE,sBAAF,CAxBX;AAyBf0C,EAAAA,aAAa,EAAE1C,OAAO,CAAE,mBAAF,CAzBP;AA0Bf2C,EAAAA,QAAQ,EAAE3C,OAAO,CAAE,aAAF;AA1BF,CAAjB","sourcesContent":["const reduxNodes = require(`./nodes`)\nconst lokiNodes = require(`../../db/loki/nodes`).reducer\nimport { redirectsReducer } from \"./redirects\"\nimport { staticQueryComponentsReducer } from \"./static-query-components\"\nimport { statusReducer } from \"./status\"\nimport { webpackReducer } from \"./webpack\"\nimport { themesReducer } from \"./themes\"\nimport { webpackCompilationHashReducer } from \"./webpack-compilation-hash\"\nimport { reducer as logReducer } from \"gatsby-cli/lib/reporter/redux/reducer\"\n\n// const backend = process.env.GATSBY_DB_NODES || `redux`\nconst backend = `redux`\n\nfunction getNodesReducer() {\n  let nodesReducer\n  switch (backend) {\n    case `redux`:\n      nodesReducer = reduxNodes\n      break\n    case `loki`:\n      nodesReducer = lokiNodes\n      break\n    default:\n      throw new Error(\n        `Unsupported DB nodes backend (value of env var GATSBY_DB_NODES)`\n      )\n  }\n  return nodesReducer\n}\n\nfunction getNodesByTypeReducer() {\n  let nodesReducer\n  switch (backend) {\n    case `redux`:\n      nodesReducer = require(`./nodes-by-type`)\n      break\n    case `loki`:\n      nodesReducer = (state = null) => null\n      break\n    default:\n      throw new Error(\n        `Unsupported DB nodes backend (value of env var GATSBY_DB_NODES)`\n      )\n  }\n  return nodesReducer\n}\n\n/**\n * @property exports.nodesTouched Set<string>\n */\nmodule.exports = {\n  program: require(`./program`),\n  nodes: getNodesReducer(),\n  nodesByType: getNodesByTypeReducer(),\n  resolvedNodesCache: require(`./resolved-nodes`),\n  nodesTouched: require(`./nodes-touched`),\n  lastAction: require(`./last-action`),\n  flattenedPlugins: require(`./flattened-plugins`),\n  config: require(`./config`),\n  pages: require(`./pages`),\n  schema: require(`./schema`),\n  status: statusReducer,\n  componentDataDependencies: require(`./component-data-dependencies`),\n  components: require(`./components`),\n  staticQueryComponents: staticQueryComponentsReducer,\n  jobs: require(`./jobs`),\n  jobsV2: require(`./jobsv2`),\n  webpack: webpackReducer,\n  webpackCompilationHash: webpackCompilationHashReducer,\n  redirects: redirectsReducer,\n  babelrc: require(`./babelrc`),\n  schemaCustomization: require(`./schema-customization`),\n  themes: themesReducer,\n  logs: logReducer,\n  inferenceMetadata: require(`./inference-metadata`),\n  pageDataStats: require(`./page-data-stats`),\n  pageData: require(`./page-data`),\n}\n"],"file":"index.js"}